# badges.ps1
# Auto-generate Grove project badges and push to GitHub

Write-Host "ðŸŒ² Generating Grove badges..." -ForegroundColor Green

# Set up the path to assets/badges/
$badgeDir = Join-Path $PSScriptRoot "..\assets\badges"

# Ensure folder exists
New-Item -ItemType Directory -Force -Path $badgeDir | Out-Null

# Grove AI badge
@"
<svg xmlns="http://www.w3.org/2000/svg" width="120" height="28">
  <rect width="120" height="28" rx="6" fill="#4CBB17"/>
  <text x="60" y="18" font-size="13" font-family="Segoe UI, Verdana, sans-serif" fill="#fff" text-anchor="middle">ðŸŒ± Grove AI</text>
</svg>
"@ | Out-File (Join-Path $badgeDir "badge-ai.svg") -Encoding utf8

# Prototype badge
@"
<svg xmlns="http://www.w3.org/2000/svg" width="120" height="28">
  <rect width="120" height="28" rx="6" fill="#0078D7"/>
  <text x="60" y="18" font-size="13" font-family="Segoe UI, Verdana, sans-serif" fill="#fff" text-anchor="middle">ðŸ§  Prototype</text>
</svg>
"@ | Out-File (Join-Path $badgeDir "badge-prototype.svg") -Encoding utf8

# Beta badge
@"
<svg xmlns="http://www.w3.org/2000/svg" width="120" height="28">
  <rect width="120" height="28" rx="6" fill="#FFB000"/>
  <text x="60" y="18" font-size="13" font-family="Segoe UI, Verdana, sans-serif" fill="#fff" text-anchor="middle">ðŸš€ Beta</text>
</svg>
"@ | Out-File (Join-Path $badgeDir "badge-beta.svg") -Encoding utf8

Write-Host " Badges generated at $badgeDir" -ForegroundColor Cyan

# Move to repo root
$repoRoot = Resolve-Path (Join-Path $PSScriptRoot "..")
Set-Location $repoRoot

# Git operations
git add assets/badges
git commit -m "Auto: regenerate Grove badges" --allow-empty
git push

Write-Host " Badges committed and pushed successfully!" -ForegroundColor Green
